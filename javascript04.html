<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>最佳实践</title>
    <style>
        #placeholder{
            width:400px;
            height:400px;
        }
    </style>
</head>
<body>
    <h1>Snapshots</h1>
    <ul id="purchases">
        <li>
            <a href="images/img1.jpg" class="popup" title="图片1">图片1</a>
        </li>
        <li class="sale">
            <a href="images/img2.jpg" class="popup" title="图片2">图片2</a>
        </li>
        <li class="sale">
            <a href="images/img3.jpg" class="popup" title="图片3">图片3</a>
        </li>
    </ul>
    <img id="placeholder" src="images/default.jpg" alt="my image gallery">
    <p id="description">choose an image.</p>
    <script>
        function showPic(whichpic){
           let source = whichpic.getAttribute("href");
           let placeholder = document.getElementById("placeholder");
           placeholder.setAttribute("src",source);
           let text = whichpic.getAttribute("title");
           let description = document.getElementById("description");
           console.log(description.childNodes);
           description.childNodes[0].nodeValue = text;
           window.open(source,"popup","width=800,height=500");

        }
        function countBodyChildren(){
            let body_element = document.getElementsByTagName("body")[0];
            console.log(body_element.nodeType, body_element.childNodes.length,body_element.childNodes);
            for(let i=0;i<body_element.childNodes.length;i++){
                console.log(body_element.childNodes[i],body_element.childNodes[i].nodeType);
            }
        }
        window.onload = function(){
            countBodyChildren();
            let links = document.getElementsByTagName("a");
            for(let i = 0; i<links.length;i++){
                if(links[i].getAttribute("class") =="popup"){
                    links[i].onclick = function(){
                        showPic(this);
                        return false;
                    }
                }
            }
        }

    </script>
</body>
</html>